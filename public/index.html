<!doctype html>
<html>
<head>
  <title>Temp Server</title>
  <!-- inject:css -->
  <link rel="stylesheet" href="/public/styles/style.css">
  <!-- endinject -->

  <!-- bower:js -->
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-route/angular-route.js"></script>
  <script src="bower_components/angular-animate/angular-animate.js"></script>
  <script src="bower_components/angular-aria/angular-aria.js"></script>
  <script src="bower_components/angular-messages/angular-messages.js"></script>
  <script src="bower_components/angular-material/angular-material.js"></script>
  <script src="bower_components/chart.js/dist/Chart.min.js"></script>
  <script src="bower_components/angular-material-icons/angular-material-icons.min.js"></script>
  <script src="bower_components/angular-chart.js/dist/angular-chart.min.js"></script>
  <!-- endbower -->
  
  <!-- bower:css -->
  <link rel="stylesheet" href="bower_components/angular-material/angular-material.css" />
  <link rel="stylesheet" href="bower_components/angular-material-icons/angular-material-icons.css" />
  <!-- endbower -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- inject:js -->
  <script src="/public/app.js"></script>
  <script src="/public/controllers/LineController.js"></script>
  <script src="/public/controllers/TempController.js"></script>
  <script src="/public/services/DataService.js"></script>
  <!-- endinject -->

</head>
<body ng-app="myApp">
  <div layout="column" class="zero" ng-controller="tempController">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h1>
          <span>Current room temperature: <strong>{{ reading | number: 2 }}</strong> degrees Celcius</span>
        </h1>
      </div>
    </md-toolbar>
    <div layout="row" ng-controller="LineCtrl">
      <div layout="column" layout-align="top center" flex>
        <md-content layout-gt-sm="row" layout-padding>
          <div class="md-toolbar-tools">
            <span>Average temperature: <strong>{{ avg | number:2 }}</strong></span>
            <md-button class="md-icon-button" aria-label="Refresh">
              <md-icon ng-click="dateRange()">cached</md-icon>
            </md-button>
          </div>
        </md-content>

        <div class="datepickerContainer">
          <md-datepicker ng-model="startingDate" md-placeholder="Starting date" md-open-on-focus md-max-date="endingDate"></md-datepicker>
          <md-button class="md-icon-button" aria-label="Clear" ng-click="startingDate = ''">
            <md-icon>clear</md-icon>
          </md-button>
        </div>

        <div class="datepickerContainer">
          <md-datepicker ng-model="endingDate" md-placeholder="Ending date" md-open-on-focus md-min-date="startingDate"></md-datepicker>
          <md-button class="md-icon-button" aria-label="Clear" ng-click="endingDate = ''">
            <md-icon>clear</md-icon>
          </md-button>
        </div>

        <md-button class="md-raised md-primary" ng-click="dateRange()">SEARCH</md-button>

      </div>

      <div flex="80" style="padding:30px">
        <div ng-if="loading" layout="row" layout-sm="column" layout-align="space-around">
          <md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>
        <canvas id="line" class="chart chart-line" chart-data="data"
        chart-labels="labels" chart-series="series" chart-options="options"
        chart-hover="onHover" chart-dataset-override="datasetOverride"
        chart-click="onClick" chart-colors="colors"></canvas>
      </div>

    </div>
  </div>

</body>

</html>
